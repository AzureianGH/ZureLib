#include "ZureLib/zurelib.h"
#include <stdlib.h>
#include <stdio.h>
#include <time.h>
#define iconhere_HEIGHT 32
#define iconhere_WIDTH 32

// array size is 3072
static const int icon_data[]  = {
  0x000000, 0x000000, 0x000000, 0x9da1a5, 0xb9c0c0, 0xbec6c7, 0xc0c9cc, 0xc6d0d1, 0xcbd4d5, 0xd0d8d9, 0xd3dcdd, 0xd7e0e1, 0xd9e2e3, 0xdce5e6, 0xdee6e7, 0xe0e7e9, 0xe1e7e9, 0xe0e7e9, 0xdee6e7, 0xdde5e6, 0xd9e2e2, 0xd5dee0, 0xd1dadc, 0xced5d7, 0xc6d0d1, 0xbfc8cb, 0xbbc3c4, 0xb4b9b9, 0x9b9f9f, 0x000000, 0x000000, 0x000000, 
  0x000000, 0x2e2e2e, 0xa5a9ab, 0xa8b1b2, 0xa3b2b6, 0xaac0c5, 0xa8c1c7, 0xaac6cc, 0xafcbd1, 0xb4d0d5, 0xb9d4d8, 0xbdd7da, 0xc1d9dd, 0xc5dcdf, 0xc7dde1, 0xc9dee2, 0xc9dfe2, 0xc9dee2, 0xc7dde1, 0xc5dcdf, 0xc0d9dd, 0xbcd6da, 0xb7d2d6, 0xb1ccd2, 0xaac6cc, 0xa7c0c6, 0xa8bdc2, 0x9eacaf, 0x9fa7a8, 0x9ca0a1, 0x2e2e2e, 0x000000, 
  0x000000, 0x95999b, 0x96a1a4, 0x9bb1b7, 0x7c9aa1, 0x52747d, 0x436872, 0x406671, 0x416671, 0x416772, 0x426872, 0x426873, 0x426973, 0x436974, 0x436974, 0x436974, 0x436974, 0x436974, 0x436974, 0x426973, 0x426973, 0x426873, 0x416772, 0x416671, 0x416671, 0x446872, 0x55757f, 0x7e9ca4, 0x94aaaf, 0x8b9597, 0x8a8e8f, 0x000000, 
  0x515656, 0x929c9e, 0x91a9af, 0x60808a, 0x3f6772, 0x406b77, 0x416c78, 0x416d79, 0x426e7a, 0x426f7b, 0x436f7c, 0x43707c, 0x44707d, 0x44717d, 0x44717d, 0x44717e, 0x44717e, 0x44717d, 0x44717d, 0x44707d, 0x43707d, 0x43707c, 0x426f7b, 0x426e7a, 0x416d79, 0x416c78, 0x406b77, 0x3f6772, 0x67868f, 0x889ea3, 0x848b8e, 0x4f4f55, 
  0x767c7e, 0x86969b, 0x73929b, 0x3b636e, 0x3d6874, 0x3d6975, 0x3d6975, 0x3e6a76, 0x3f6b77, 0x3f6c78, 0x406c79, 0x406c79, 0x416d79, 0x416d7a, 0x426d7a, 0x426d7a, 0x426d7a, 0x426d7a, 0x416d7a, 0x416d7a, 0x416d79, 0x406d79, 0x406c79, 0x3f6c78, 0x3e6b77, 0x3d6a76, 0x3d6975, 0x3d6874, 0x3b636d, 0x76949c, 0x78878b, 0x6a6e70, 
  0x6b7578, 0x829aa0, 0x4c6f79, 0x37616d, 0x386470, 0x396470, 0x3a6672, 0x3a6673, 0x3b6773, 0x3c6774, 0x3c6774, 0x3d6976, 0x487b89, 0x669eab, 0x81bac5, 0x8ec8d2, 0x91cad4, 0x87c2cd, 0x72aab6, 0x528998, 0x3f6d7b, 0x3d6875, 0x3c6874, 0x3b6774, 0x3b6773, 0x3a6672, 0x396571, 0x396470, 0x37626d, 0x52757f, 0x748b90, 0x5c6667, 
  0x657176, 0x7d9aa2, 0x3e636e, 0x345d69, 0x355f6b, 0x36606d, 0x37616e, 0x37616e, 0x38616f, 0x396371, 0x538a99, 0x94cfd9, 0xb0ebf3, 0x95ced8, 0x79b1bc, 0x7ab5c2, 0x8bc7d2, 0x71a7b3, 0x87c1cc, 0xa9e4ed, 0xa7e2eb, 0x6fa9b6, 0x3d6c7a, 0x38626f, 0x37626f, 0x37626e, 0x36616d, 0x35606c, 0x345d69, 0x406772, 0x728d94, 0x596265, 
  0x626f74, 0x7a97a0, 0x395f6a, 0x2f5965, 0x305b67, 0x315b68, 0x315b69, 0x325c6a, 0x386978, 0x85c2cd, 0xabe7ef, 0x67a0ae, 0x3c6b7a, 0x365f6d, 0x375f6c, 0x4d8493, 0x65a1af, 0x365f6d, 0x365f6d, 0x376371, 0x4f8695, 0x91cdd7, 0xa6e2ec, 0x4e8796, 0x325d6b, 0x325c6a, 0x315c69, 0x305c68, 0x2f5965, 0x3b636e, 0x6e8b92, 0x566062, 
  0x5e6d71, 0x76949d, 0x355b66, 0x2b5461, 0x2c5663, 0x2d5764, 0x2e5864, 0x3c707e, 0x9fdee8, 0xa3e3ed, 0x498595, 0x315966, 0x315966, 0x325966, 0x315966, 0x447887, 0x558e9b, 0x325966, 0x325966, 0x315967, 0x315967, 0x315b68, 0x55909e, 0xb2eef6, 0x5e9caa, 0x2e5966, 0x2d5765, 0x2c5664, 0x2b5462, 0x375f6b, 0x6b878f, 0x525c5f, 
  0x5a696c, 0x719099, 0x315762, 0x27505c, 0x28515e, 0x28525e, 0x336573, 0x9cdee8, 0x67a4b1, 0x315f6d, 0x77bfcd, 0x396876, 0x2c5260, 0x2c5260, 0x2c5260, 0x2c5361, 0x2c5361, 0x2c5260, 0x2c5361, 0x2c5360, 0x2c5360, 0x2d5461, 0x5492a0, 0x72b7c5, 0xa3e3ed, 0x5592a0, 0x295360, 0x28525f, 0x27515d, 0x345b66, 0x67838b, 0x4f595c, 
  0x576469, 0x6e8d96, 0x2e535e, 0x234b57, 0x244d59, 0x26505d, 0x84c7d3, 0x6eafbc, 0x284f5d, 0x274d5b, 0x33606f, 0x3a6d7d, 0x274b5a, 0x274d5a, 0x284d5a, 0x284d5a, 0x284d5a, 0x284d5a, 0x274d5a, 0x274d5b, 0x274d5b, 0x2c5565, 0x5698a8, 0x28505e, 0x3e7483, 0xa4e9f2, 0x3c6d7a, 0x254e5a, 0x234c58, 0x315762, 0x647f87, 0x4e5759, 
  0x546164, 0x6c8a93, 0x2a4f5a, 0x1f4753, 0x204854, 0x498896, 0x94d9e3, 0x25505e, 0x224855, 0x234755, 0x224855, 0x224754, 0x234753, 0x234652, 0x264b57, 0x39646f, 0x3e6b75, 0x335c68, 0x234853, 0x234855, 0x285260, 0x234857, 0x234856, 0x224856, 0x224857, 0x749093, 0xd0a887, 0x2d4e57, 0x1f4754, 0x2d535f, 0x617d84, 0x4b5456, 
  0x525e62, 0x688790, 0x264b56, 0x1b424e, 0x1e4957, 0x91d9e3, 0x3e7989, 0x1d424f, 0x1d424e, 0x1e424e, 0x1d424d, 0x1e414d, 0x20424f, 0x386771, 0x37636e, 0x244652, 0x1f3e4a, 0x2a505c, 0x3a6a74, 0x417987, 0x346e7f, 0x1d424e, 0x1e434f, 0x1e4350, 0x1d4351, 0x304b54, 0xe8a87b, 0x726a63, 0x1b434f, 0x294e5b, 0x5f7a82, 0x485153, 
  0x515c5f, 0x66848d, 0x19404b, 0x0c3642, 0x296778, 0x8bdae5, 0x0d3947, 0x0c3441, 0x0c3341, 0x0b3240, 0x0b303e, 0x0c303e, 0x2c616c, 0x103541, 0x0a2b39, 0x0b2a38, 0x0b2a39, 0x0b2c39, 0x215060, 0x62afbe, 0x235562, 0x0b313f, 0x0b3341, 0x0c3442, 0x0d3543, 0x0d3643, 0x977660, 0xc08865, 0x0f3743, 0x1c4451, 0x5c777f, 0x475051, 
  0x4e595c, 0x63818a, 0x153b47, 0x06303d, 0x5099a8, 0x559ead, 0x062e3c, 0x062d3b, 0x062c39, 0x042a38, 0x042836, 0x1a4855, 0x0f3542, 0x042331, 0x04222f, 0x04212f, 0x04212f, 0x1c4859, 0x84cad6, 0x103b4b, 0x1d4f5b, 0x0c3340, 0x042b39, 0x072d3a, 0x062e3c, 0x062f3d, 0x474b4b, 0xec9864, 0x1c3841, 0x18404d, 0x5a757d, 0x434d50, 
  0x4c575a, 0x617f89, 0x143944, 0x052e3a, 0x71bcc8, 0x71c1cf, 0x50a3b5, 0x49a3b6, 0x0b3644, 0x032735, 0x042633, 0x20525e, 0x04222f, 0x03202d, 0x031f2c, 0x031e2b, 0x1b4454, 0xa2dfe7, 0x316675, 0x042330, 0x082c39, 0x1b4b58, 0x042836, 0x052a37, 0x304145, 0x96735b, 0x9f735a, 0xf49059, 0x414747, 0x173e4a, 0x57737b, 0x424b4d, 
  0x4a5659, 0x5f7d86, 0x133642, 0x052c39, 0x7ed5e3, 0x215f72, 0x052e3c, 0x042b39, 0x032734, 0x032532, 0x032330, 0x1e505b, 0x02202d, 0x021e2b, 0x021d2a, 0x163e4d, 0xace6ed, 0x64a0ad, 0x02202d, 0x02212d, 0x032330, 0x1e525d, 0x032633, 0x042835, 0x16313a, 0x484a48, 0x554d49, 0xe78454, 0x4f4843, 0x163c48, 0x557178, 0x404a4b, 
  0x495457, 0x5d7c84, 0x123440, 0x052b37, 0x7ed8e7, 0x1d5161, 0x042734, 0x042633, 0x032532, 0x032330, 0x03222e, 0x1c4e5a, 0x021f2b, 0x021d29, 0x021c28, 0x326877, 0x8ac8d3, 0x092b39, 0x021e2a, 0x021f2c, 0x03222e, 0x1c4d59, 0x032431, 0x042533, 0x042734, 0x042835, 0x0d2b37, 0xde7a4d, 0x504540, 0x163a46, 0x546f77, 0x3f484a, 
  0x495456, 0x5b7a83, 0x12333e, 0x042834, 0x75c6d3, 0x256375, 0x042532, 0x042431, 0x04232f, 0x03222e, 0x02202d, 0x1b4b56, 0x021e2b, 0x021d28, 0x021c28, 0x021d29, 0x04222f, 0x021c28, 0x021d29, 0x021e2a, 0x0d333e, 0x123b47, 0x02222f, 0x042430, 0x042532, 0x042633, 0x122b35, 0xe47445, 0x46413e, 0x153844, 0x516d75, 0x3c4749, 
  0x475256, 0x5b7981, 0x12323d, 0x042633, 0x5aa6b6, 0x408493, 0x042531, 0x042430, 0x04232f, 0x03222e, 0x02212d, 0x0a2d39, 0x16424e, 0x021d29, 0x021d29, 0x021d28, 0x021d29, 0x021d29, 0x021e2a, 0x02202c, 0x1f525d, 0x02222f, 0x04232f, 0x042430, 0x042531, 0x042632, 0x2f373b, 0xed7040, 0x27343b, 0x153843, 0x516c74, 0x3c4549, 
  0x475256, 0x5a7881, 0x12323d, 0x042633, 0x2f7081, 0x6dc0ce, 0x042633, 0x042531, 0x042430, 0x04232f, 0x03222e, 0x02212d, 0x123b47, 0x16434e, 0x02202c, 0x021e2a, 0x021e2a, 0x021f2a, 0x062733, 0x1f535e, 0x082b37, 0x02222f, 0x042330, 0x042431, 0x042532, 0x042633, 0x6e4b3f, 0xd3633d, 0x0a2834, 0x143743, 0x506c73, 0x3c4549, 
  0x475256, 0x5a7881, 0x11313d, 0x042733, 0x0b3847, 0x88e1ed, 0x134556, 0x042532, 0x062b38, 0x042532, 0x04232f, 0x03222e, 0x02212d, 0x082c38, 0x1a4a56, 0x1a4b57, 0x1a4954, 0x1a4b56, 0x184652, 0x052531, 0x03232f, 0x042330, 0x042431, 0x072632, 0x042632, 0x092834, 0xc95d3b, 0x814e3e, 0x042733, 0x143743, 0x506b73, 0x3c4549, 
  0x475256, 0x5a7881, 0x11313d, 0x042733, 0x042734, 0x4d99a9, 0x5ca9b8, 0x0e3b4b, 0x4ba4b8, 0x0b3745, 0x042430, 0x04232f, 0x04222f, 0x03222e, 0x03222e, 0x03222e, 0x03222e, 0x03222e, 0x02222f, 0x04232f, 0x042330, 0x042431, 0x052632, 0x98624b, 0x5b463e, 0x5c443d, 0xe85e34, 0x243239, 0x042733, 0x143742, 0x506b73, 0x3c4549, 
  0x475256, 0x5a7881, 0x11313c, 0x042632, 0x042733, 0x0b3948, 0x86dfeb, 0x5bbace, 0x114152, 0x042532, 0x042431, 0x042430, 0x042430, 0x042330, 0x04232f, 0x04232f, 0x04232f, 0x04232f, 0x042330, 0x042430, 0x042531, 0x042532, 0x042632, 0x1a2e36, 0x9f5d44, 0xee5e33, 0x7e4b3d, 0x042834, 0x042633, 0x143742, 0x506b73, 0x3c4549, 
  0x475154, 0x59767e, 0x11313c, 0x042632, 0x042733, 0x042733, 0x174d5e, 0x0a3746, 0x042633, 0x042632, 0x042632, 0x042531, 0x042531, 0x042531, 0x042431, 0x042431, 0x042431, 0x042431, 0x042531, 0x042531, 0x042532, 0x042632, 0x042633, 0x042733, 0x062834, 0x433f3e, 0x0b2a35, 0x042733, 0x042632, 0x143742, 0x4f6970, 0x3d4446, 
  0x444d4f, 0x597179, 0x1b3d48, 0x042631, 0x042733, 0x042733, 0x042734, 0x042733, 0x042733, 0x042633, 0x042633, 0x042632, 0x042632, 0x042632, 0x042532, 0x042532, 0x042532, 0x042532, 0x042632, 0x042632, 0x042633, 0x042633, 0x042733, 0x042734, 0x042734, 0x042734, 0x042733, 0x042733, 0x042631, 0x22444e, 0x4e6268, 0x394141, 
  0x3f4545, 0x57666b, 0x3f626e, 0x042531, 0x042632, 0x042733, 0x042733, 0x042733, 0x042733, 0x042733, 0x042733, 0x042633, 0x042633, 0x042633, 0x042632, 0x042633, 0x042633, 0x042633, 0x042633, 0x042733, 0x042733, 0x042733, 0x042734, 0x042734, 0x042734, 0x042733, 0x042733, 0x042632, 0x042531, 0x42646e, 0x4c595c, 0x353b3b, 
  0x1b1e1e, 0x575e61, 0x5f7b83, 0x244853, 0x042531, 0x042632, 0x042632, 0x042633, 0x042733, 0x042733, 0x042733, 0x042733, 0x042733, 0x042733, 0x042633, 0x042633, 0x042633, 0x042633, 0x042733, 0x042733, 0x042733, 0x042733, 0x042733, 0x042733, 0x042633, 0x042632, 0x042632, 0x042531, 0x2a4e59, 0x566f76, 0x4b5153, 0x171a1a, 
  0x000000, 0x3d4041, 0x5b6568, 0x65838b, 0x3e636f, 0x11333e, 0x042530, 0x042530, 0x042530, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042531, 0x042530, 0x042530, 0x042530, 0x143641, 0x416671, 0x5f7a81, 0x515a5c, 0x353839, 0x000000, 
  0x000000, 0x000505, 0x404344, 0x616b6d, 0x687e83, 0x72929c, 0x7397a0, 0x73959f, 0x7a9ba5, 0x7fa1ab, 0x85a7b1, 0x8badb6, 0x90b2bc, 0x94b6bf, 0x98b9c1, 0x9abbc2, 0x9bbcc3, 0x9abcc3, 0x98b9c1, 0x95b6bf, 0x8fb1ba, 0x89abb5, 0x82a4ae, 0x7c9da7, 0x74959f, 0x7398a1, 0x6f8e97, 0x63767a, 0x5a6263, 0x393d3d, 0x000505, 0x000000, 
  0x000000, 0x000000, 0x000000, 0x232525, 0x4b5152, 0x5c6669, 0x687579, 0x708185, 0x798b8e, 0x829498, 0x8b9da1, 0x93a5a7, 0x9ba9ac, 0xa1adaf, 0xa3afb1, 0xa5b0b2, 0xa5b1b4, 0xa5b1b2, 0xa4afb1, 0xa1adaf, 0x9aa9ab, 0x91a3a6, 0x87999c, 0x7d8e91, 0x708185, 0x667377, 0x586364, 0x474c4d, 0x212323, 0x000000, 0x000000, 0x000000, 
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000004, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000404, 0x000004, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000
};

void OnClose()
{
    zl_deinit();
    exit(0);
}
char* clickstring;
int main() 
{
    zl_init(ZL_TRUE);
    srand((unsigned int)time(NULL));
    clickstring = (char*)malloc(13);
    ZURELIB_WHDLE window = zl_qcreate_window("Test", 500, 500);
    if (!window) {
        zl_qwriteln("Failed to create window!");
        zl_deinit();
        return 1;
    }
    //load icon from memory
   
    zl_qset_window_icon(window, zl_load_from_image_file("icon.ico"));
    zl_register_on_close(&OnClose);
    
    while(!zl_qshould_window_close(window))
    {
        zl_qdo_events(window);
        zl_qclear_window();
        zl_qdraw_string(window, 200, 200, "Click me!", ZL_COLOR_BLACK);
        zl_qupdate_window(window);
    }

    zl_deinit();
    return 0;
}
